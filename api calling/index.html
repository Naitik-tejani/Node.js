<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <div align="center">
        <h2>view user</h2>
        <table border="1">
            <thead>
                <td>Id</td>
                <td>Name</td>
                <td>Phone</td>
            </thead>

            <tbody id="userdata"></tbody>

        </table>
     </div>

     <script type="text/javascript">
        const getuser = async ()=>{
            try{
                let res = await fetch('http://localhost:9000/user',{
                 headers: {
                    'Content-Type': 'application/json',
                }
            });

            let data = await res.json();
            let user = data.user;
            if(data.success){
                let tbl="";
                user.forEach((val,index) => {
                    tbl +=`
                    <tr>
                        <td>${val.id}</td>
                        <td>${val.name}</td>
                        <td>${val.phone}</td>
                    </tr>
                    `
                })
                document.getElementById('userdata').innerHTML = tbl;
            }
                
            }
            catch(err){
                console.log(err);
            }
        }
        getuser()
        
     </script>


</body>
</html>

